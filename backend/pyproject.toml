[project]
name = "fastapi-stuff"
version = "0.1.0"
description = "A simple FastAPI project"
readme = "README.md"
requires-python = ">=3.11"
dependencies = [
    "alembic>=1.16.5",
    "fastapi>=0.104.0",
    "sqlalchemy>=2.0.43",
    "uvicorn[standard]>=0.24.0",
    "asyncpg>=0.29.0",
    "psycopg2-binary>=2.9.9",
    "redis>=5.0.0",
]

[project.dependency-groups]
# Development-only dependencies
# Ruff is declared here; actual configuration is in this file under [tool.ruff].
dev = [
    "ruff>=0.15.0",
]

[tool.ruff]
# Ruff configuration for the backend package (nearest config wins for files under backend/)
line-length = 80
target-version = "py311"

# Exclude Alembic auto-generated revisions (ignore entire versions directory)
exclude = ["alembic/versions/*"]

[tool.ruff.lint]
# Lint-related settings were moved here to satisfy newer ruff versions (deprecation fix)
select = [
  "E",
  "F",
  "W",
  "C90",
  "B",
  "S",
  "Q",
]

extend-select = [
  "ANN",
]

ignore = [
  "E203",
]

per-file-ignores = {"alembic/versions/*.py" = ["E", "F", "W", "ANN"]}

[tool.ruff.format]
# Use the TOML key compatible with older ruff versions used by the pre-commit hook
quote-style = "double"
